<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุธุงู ุงููุงุดูุฑ ุงููุชูุงูู ูุงูุดุงูู</title>
    <link rel="stylesheet" href="styles.css">
    <style>
      
    </style>
</head>

<body>
<div class="titlebar-left">
    <div class="app-icon">๐ช</div>
    <div class="app-title">ูุธุงู ุงููุงุดูุฑ ุงููุชูุงูู</div>
    <div class="app-status">
        <span class="status-indicator"></span>
        <span class="status-text">ูุดุท</span>
    </div>
</div>

<div class="titlebar-center">
    <div class="digital-clock">
        <div class="clock-display">
            <div class="time-section">
                <span class="time-digits">00:00:00</span>
                <span class="am-pm">ุต</span>
            </div>
            <div class="date-section">
                <span class="date-text">ุงูุฃุญุฏุ 1 ุฏูุณูุจุฑ 2024</span>
            </div>
        </div>
        <div class="clock-settings-btn">โ๏ธ</div>
    </div>
</div>

<div class="titlebar-right">
    <button class="titlebar-btn" id="minimizeBtn">ุชุตุบูุฑ</button>
    <button class="titlebar-btn" id="maximizeBtn">ุชูุจูุฑ</button>
    <button class="titlebar-btn close-btn">ุฅุบูุงู</button>
</div>
        
        <div class="settings-actions">
            <button class="btn btn-primary" onclick="resetClockSettings()">ุฅุนุงุฏุฉ ุชุนููู</button>
            <button class="btn btn-success" onclick="saveClockSettings()">ุญูุธ ุงูุฅุนุฏุงุฏุงุช</button>
        </div>
    </div>
</div>
    <!-- ุงูุฑุฃุณ -->
    <div class="header">
        <div class="header-content">
            <div class="logo">๐ช ูุธุงู ุงููุงุดูุฑ ุงููุชูุงูู</div>
            
            <!-- ูุฎุชุงุฑ ููุน ุงููุชุฌุฑ ูู ุงูุดุฑูุท ุงูุนููู -->
            <div class="store-selector-header">
                <button class="current-store-btn" onclick="toggleStoreDropdown()">
                    <span id="currentStoreText">๐ช ูุชุฌุฑ ุนุงู</span> โผ
                </button>
                <div class="store-dropdown" id="storeDropdown">
                    <div class="store-type-grid">
                        <button class="store-type-btn active" onclick="selectStoreFromHeader('general')" data-type="general">
                            ๐ช ุนุงู
                        </button>
                        <button class="store-type-btn" onclick="selectStoreFromHeader('supermarket')" data-type="supermarket">
                            ๐ ุณูุจุฑ ูุงุฑูุช
                        </button>
                        <button class="store-type-btn" onclick="selectStoreFromHeader('electronics')" data-type="electronics">
                            ๐ฑ ุฅููุชุฑูููุงุช
                        </button>
                        <button class="store-type-btn" onclick="selectStoreFromHeader('clothes')" data-type="clothes">
                            ๐ ููุงุจุณ
                        </button>
                        <button class="store-type-btn" onclick="selectStoreFromHeader('vegetables')" data-type="vegetables">
                            ๐ฅฌ ุฎุถุฑูุงุช
                        </button>
                        <button class="store-type-btn" onclick="selectStoreFromHeader('beverages')" data-type="beverages">
                            ๐ฅค ูุดุฑูุจุงุช
                        </button>
                        <button class="store-type-btn" onclick="selectStoreFromHeader('restaurant')" data-type="restaurant">
                            ๐ฝ๏ธ ูุทุนู
                        </button>
                        <button class="store-type-btn" onclick="selectStoreFromHeader('hotel')" data-type="hotel">
                            ๐จ ููุฏู
                        </button>
                    </div>
                </div>
            </div>

            <div class="nav-tabs">
                <button class="tab-btn active" onclick="showTab('pos')">
                    ๐ฐ ููุทุฉ ุงูุจูุน
                    <span class="notification-badge" id="cartBadge" style="display: none;">0</span>
                </button>
                <button class="tab-btn" onclick="showTab('products')">
                    ๐ฆ ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช
                </button>
                <button class="tab-btn" onclick="showTab('inventory')">
                    ๐ ุงููุฎุงุฒู
                    <span class="notification-badge" id="lowStockBadge" style="display: none;">0</span>
                </button>
                <button class="tab-btn" onclick="showTab('customers')">๐ฅ ุงูุนููุงุก</button>
                <button class="tab-btn" onclick="showTab('installments')">
                    ๐ณ ุงูุฃูุณุงุท
                    <span class="notification-badge" id="overdueBadge" style="display: none;">0</span>
                </button>
                <button class="tab-btn" onclick="showTab('reports')">๐ ุงูุชูุงุฑูุฑ</button>
                <button class="tab-btn" onclick="showTab('settings')">โ๏ธ ุงูุฅุนุฏุงุฏุงุช</button>
            </div>
        </div>
    </div>

    <div class="main-container">
        <!-- ููุทุฉ ุงูุจูุน -->
        <div id="pos" class="tab-content active">
            <div class="pos-layout">
                <!-- ููุญุฉ ุงูุชุตูููุงุช ูุงูุจุญุซ -->
                <div class="categories-panel">
                    <div class="search-container">
                        <input type="text" class="search-input" id="productSearch" placeholder="ุงุจุญุซ ุนู ุงูููุชุฌุงุช...">
                        <button class="voice-btn" onclick="startVoiceSearch()" title="ุงูุจุญุซ ุงูุตูุชู">๐ค</button>
                        <span class="search-icon">๐</span>
                    </div>

                    <div>
                        <h3 style="margin-bottom: 15px;">ุงูุชุตูููุงุช</h3>
                        <div class="categories-list" id="categoriesList">
                            <!-- ุณูุชู ุชุญููู ุงูุชุตูููุงุช ููุง -->
                        </div>
                    </div>
                </div>

                <!-- ููุญุฉ ุงูููุชุฌุงุช -->
                <div class="products-panel">
                    <div class="advanced-search">
                        <h3>ุงูุจุญุซ ุงููุชูุฏู</h3>
                        <div class="search-filters">
                            <div class="filter-group">
                                <label>ูุทุงู ุงูุณุนุฑ</label>
                                <div style="display: flex; gap: 5px;">
                                    <input type="number" class="form-input" id="priceMin" placeholder="ูู" style="padding: 6px;">
                                    <input type="number" class="form-input" id="priceMax" placeholder="ุฅูู" style="padding: 6px;">
                                </div>
                            </div>
                            <div class="filter-group">
                                <label>ุงูุชุฑุชูุจ</label>
                                <select class="form-input" id="sortBy" onchange="sortProducts()">
                                    <option value="name">ุงูุงุณู</option>
                                    <option value="price">ุงูุณุนุฑ</option>
                                    <option value="stock">ุงููููุฉ</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label>ูุฎุฒูู ููุฎูุถ ููุท</label>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="lowStockOnly" onchange="filterProducts()">
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="products-grid" id="productsGrid">
                        <!-- ุณูุชู ุชุญููู ุงูููุชุฌุงุช ููุง -->
                    </div>
                </div>

                <!-- ููุญุฉ ุนุฑุจุฉ ุงูุชุณูู -->
                <div class="cart-panel">
                    <div class="cart-header">
                        <h3>๐ ุนุฑุจุฉ ุงูุชุณูู</h3>
                        <button class="btn btn-danger" onclick="clearCart()" style="padding: 6px 12px; font-size: 11px;">ูุณุญ ุงููู</button>
                    </div>

                    <div class="cart-items" id="cartItems">
                        <div class="empty-state">
                            <div class="empty-state-icon">๐</div>
                            <p>ุงูุนุฑุจุฉ ูุงุฑุบุฉ</p>
                            <small>ุงุฎุชุฑ ููุชุฌุงุช ูู ุงููุงุฆูุฉ</small>
                        </div>
                    </div>

                    <div class="cart-total">
                        <div class="total-amount">ุงููุฌููุน: <span id="totalAmount">0 ุฏ.ุน</span></div>
                        <div style="font-size: 12px; opacity: 0.9;">ุนุฏุฏ ุงูุนูุงุตุฑ: <span id="itemCount">0</span></div>
                    </div>

                    <div class="checkout-buttons">
                        <button class="btn btn-success" onclick="processCashSale()">๐ฐ ุจูุน ููุฏู</button>
                        <button class="btn btn-warning" onclick="showInstallmentModal()">๐ณ ุจูุน ุจุงูุฃูุณุงุท</button>
                    </div>

                    <button class="btn btn-info" onclick="holdSale()" style="width: 100%; margin-top: 8px;">โธ๏ธ ุชุนููู ุงูุจูุน</button>
                </div>
            </div>
        </div>

        <!-- ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช -->
        <div id="products" class="tab-content">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ</h2>
                    <div>
                        <button class="btn btn-primary" onclick="generateBarcode()">๐ท๏ธ ุชูููุฏ ุจุงุฑููุฏ</button>
                        <button class="btn btn-success" onclick="showBulkImportModal()">๐ฅ ุงุณุชูุฑุงุฏ ููุชุฌุงุช</button>
                    </div>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">ุงุณู ุงูููุชุฌ *</label>
                        <input type="text" class="form-input" id="productName">
                        <button class="voice-input-btn" onclick="startVoiceInput('productName')" title="ุฅุฏุฎุงู ุตูุชู">๐ค</button>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุงูุจุงุฑููุฏ</label>
                        <input type="text" class="form-input" id="productBarcode">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุงูุณุนุฑ *</label>
                        <input type="number" class="form-input" id="productPrice" step="0.01">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุณุนุฑ ุงูุชูููุฉ</label>
                        <input type="number" class="form-input" id="productCost" step="0.01">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุงูุชุตููู</label>
                        <select class="form-input" id="productCategory">
                            <option value="ุนุงู">ุนุงู</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุงููุญุฏุฉ</label>
                        <select class="form-input" id="productUnit">
                            <option value="ูุทุนุฉ">ูุทุนุฉ</option>
                            <option value="ูููู">ูููู</option>
                            <option value="ูุชุฑ">ูุชุฑ</option>
                            <option value="ูุชุฑ">ูุชุฑ</option>
                            <option value="ุตูุฏูู">ุตูุฏูู</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุงููุฎุฒู ุงูุซุงุจุช *</label>
                        <input type="number" class="form-input" id="productFixedStock" placeholder="ุงููุฎุฒู ุงูุซุงุจุช">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุงููุฎุฒู ุงููุชุญุฑู *</label>
                        <input type="number" class="form-input" id="productMovableStock" placeholder="ุงููุฎุฒู ุงููุชุญุฑู">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุงูุญุฏ ุงูุฃุฏูู ูููุฎุฒูู</label>
                        <input type="number" class="form-input" id="productMinStock" value="10">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุงููุตู</label>
                        <textarea class="form-input" id="productDescription" rows="3"></textarea>
                        <button class="voice-input-btn" onclick="startVoiceInput('productDescription')" title="ุฅุฏุฎุงู ุตูุชู">๐ค</button>
                    </div>
                </div>

                <div style="margin-top: 20px;">
                    <button class="btn btn-success" onclick="addProduct()">โ ุฅุถุงูุฉ ุงูููุชุฌ</button>
                    <button class="btn btn-danger" onclick="clearProductForm()">๐๏ธ ูุณุญ ุงููููุฐุฌ</button>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ูุงุฆูุฉ ุงูููุชุฌุงุช</h2>
                    <div>
                        <button class="btn btn-info" onclick="exportProducts()">๐ค ุชุตุฏูุฑ</button>
                        <button class="btn btn-warning" onclick="showBarcodeGenerator()">๐ท๏ธ ุทุจุงุนุฉ ุจุงุฑููุฏ</button>
                    </div>
                </div>

                <div class="search-container">
                    <input type="text" class="search-input" id="productFilter" placeholder="ููุชุฑุฉ ุงูููุชุฌุงุช...">
                    <button class="voice-btn" onclick="startVoiceSearch('productFilter')" title="ุงูุจุญุซ ุงูุตูุชู">๐ค</button>
                    <span class="search-icon">๐</span>
                </div>

                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ุงูุงุณู</th>
                                <th>ุงูุจุงุฑููุฏ</th>
                                <th>ุงูุณุนุฑ</th>
                                <th>ุงูุชูููุฉ</th>
                                <th>ุงูุฑุจุญ</th>
                                <th>ูุฎุฒู ุซุงุจุช</th>
                                <th>ูุฎุฒู ูุชุญุฑู</th>
                                <th>ุงูุญุงูุฉ</th>
                                <th>ุงูุฅุฌุฑุงุกุงุช</th>
                            </tr>
                        </thead>
                        <tbody id="productsTableBody">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- ุงููุฎุงุฒู -->
        <div id="inventory" class="tab-content">
            <div class="inventory-tabs">
                <button class="inventory-tab active" onclick="showInventoryTab('overview')">๐ ูุธุฑุฉ ุนุงูุฉ</button>
                <button class="inventory-tab" onclick="showInventoryTab('movements')">๐ ุญุฑูุงุช ุงููุฎุฒู</button>
                <button class="inventory-tab" onclick="showInventoryTab('adjustments')">โ๏ธ ุชุณููุฉ ุงููุฎุฒู</button>
                <button class="inventory-tab" onclick="showInventoryTab('analysis')">๐ ุชุญููู ุงููุฎุฒู</button>
            </div>

            <div id="overview" class="inventory-content active">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="totalProductsCount">0</div>
                        <div class="stat-label">ุฅุฌูุงูู ุงูููุชุฌุงุช</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="lowStockCount">0</div>
                        <div class="stat-label">ููุชุฌุงุช ููููุฉ ุงููุฎุฒูู</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalInventoryValue">0 ุฏ.ุน</div>
                        <div class="stat-label">ูููุฉ ุงููุฎุฒูู</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="expectedProfit">0 ุฏ.ุน</div>
                        <div class="stat-label">ุงูุฑุจุญ ุงููุชููุน</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">ุชูุฑูุฑ ุงููุฎุฒูู ุงูุชูุตููู</h2>
                        <button class="btn btn-primary" onclick="generateInventoryReport()">๐ ุชุญุฏูุซ ุงูุชูุฑูุฑ</button>
                    </div>

                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ุงูููุชุฌ</th>
                                    <th>ูุฎุฒู ุซุงุจุช</th>
                                    <th>ูุฎุฒู ูุชุญุฑู</th>
                                    <th>ุงูุฅุฌูุงูู</th>
                                    <th>ุงูุญุฏ ุงูุฃุฏูู</th>
                                    <th>ุงูุญุงูุฉ</th>
                                    <th>ูููุฉ ุงููุฎุฒูู</th>
                                    <th>ุงูุฑุจุญ ุงููุชููุน</th>
                                    <th>ุงูุฅุฌุฑุงุกุงุช</th>
                                </tr>
                            </thead>
                            <tbody id="inventoryTableBody">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div id="movements" class="inventory-content">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">ุชุณุฌูู ุญุฑูุฉ ูุฎุฒู</h2>
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">ุงูููุชุฌ</label>
                            <select class="form-input" id="movementProduct">
                                <option value="">ุงุฎุชุฑ ููุชุฌ</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">ููุน ุงูุญุฑูุฉ</label>
                            <select class="form-input" id="movementType">
                                <option value="in">ุฅุฏุฎุงู</option>
                                <option value="out">ุฅุฎุฑุงุฌ</option>
                                <option value="transfer">ููู ุจูู ุงููุฎุงุฒู</option>
                                <option value="adjustment">ุชุณููุฉ</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">ููุน ุงููุฎุฒู</label>
                            <select class="form-input" id="stockType">
                                <option value="movable">ูุชุญุฑู</option>
                                <option value="fixed">ุซุงุจุช</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">ุงููููุฉ</label>
                            <input type="number" class="form-input" id="movementQuantity">
                        </div>
                        <div class="form-group">
                            <label class="form-label">ุงูุณุจุจ</label>
                            <input type="text" class="form-input" id="movementReason">
                            <button class="voice-input-btn" onclick="startVoiceInput('movementReason')" title="ุฅุฏุฎุงู ุตูุชู">๐ค</button>
                        </div>
                    </div>
                    <button class="btn btn-success" onclick="recordMovement()">โ ุชุณุฌูู ุงูุญุฑูุฉ</button>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">ุณุฌู ุญุฑูุงุช ุงููุฎุฒู</h2>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ุงูุชุงุฑูุฎ</th>
                                    <th>ุงูููุชุฌ</th>
                                    <th>ููุน ุงูุญุฑูุฉ</th>
                                    <th>ููุน ุงููุฎุฒู</th>
                                    <th>ุงููููุฉ</th>
                                    <th>ุงูุณุจุจ</th>
                                </tr>
                            </thead>
                            <tbody id="movementsTableBody">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div id="adjustments" class="inventory-content">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">ุชุณููุฉ ุงููุฎุฒู</h2>
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">ุงูููุชุฌ</label>
                            <select class="form-input" id="adjustmentProduct">
                                <option value="">ุงุฎุชุฑ ููุชุฌ</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">ุงููููุฉ ุงููุนููุฉ (ูุชุญุฑู)</label>
                            <input type="number" class="form-input" id="actualMovableStock">
                        </div>
                        <div class="form-group">
                            <label class="form-label">ุงููููุฉ ุงููุนููุฉ (ุซุงุจุช)</label>
                            <input type="number" class="form-input" id="actualFixedStock">
                        </div>
                        <div class="form-group">
                            <label class="form-label">ููุงุญุธุงุช</label>
                            <textarea class="form-input" id="adjustmentNotes" rows="3"></textarea>
                            <button class="voice-input-btn" onclick="startVoiceInput('adjustmentNotes')" title="ุฅุฏุฎุงู ุตูุชู">๐ค</button>
                        </div>
                    </div>
                    <button class="btn btn-warning" onclick="adjustInventory()">โ๏ธ ุชุทุจูู ุงูุชุณููุฉ</button>
                </div>
            </div>

            <div id="analysis" class="inventory-content">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">ุชุญููู ุงููุฎุฒู</h2>
                        <button class="btn btn-primary" onclick="generateInventoryAnalysis()">๐ ุชุญููู ุดุงูู</button>
                    </div>
                    <div id="analysisResults">
                        <!-- ูุชุงุฆุฌ ุงูุชุญููู ููุง -->
                    </div>
                </div>
            </div>
        </div>

        <!-- ุงูุนููุงุก -->
        <div id="customers" class="tab-content">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalCustomersCount">0</div>
                    <div class="stat-label">ุฅุฌูุงูู ุงูุนููุงุก</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="activeCustomers">0</div>
                    <div class="stat-label">ุนููุงุก ูุดุทูู</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalCustomerDebt">0 ุฏ.ุน</div>
                    <div class="stat-label">ุฅุฌูุงูู ุงูุฏููู</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="avgOrderValue">0 ุฏ.ุน</div>
                    <div class="stat-label">ูุชูุณุท ูููุฉ ุงูุทูุจ</div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ุฅุถุงูุฉ ุนููู ุฌุฏูุฏ</h2>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">ุงุณู ุงูุนููู *</label>
                        <input type="text" class="form-input" id="customerName">
                        <button class="voice-input-btn" onclick="startVoiceInput('customerName')" title="ุฅุฏุฎุงู ุตูุชู">๐ค</button>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุฑูู ุงููุงุชู</label>
                        <input type="text" class="form-input" id="customerPhone">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                        <input type="email" class="form-input" id="customerEmail">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุงูุนููุงู</label>
                        <input type="text" class="form-input" id="customerAddress">
                        <button class="voice-input-btn" onclick="startVoiceInput('customerAddress')" title="ุฅุฏุฎุงู ุตูุชู">๐ค</button>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุญุฏ ุงูุงุฆุชูุงู</label>
                        <input type="number" class="form-input" id="customerCreditLimit" value="0">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ููุงุญุธุงุช</label>
                        <textarea class="form-input" id="customerNotes" rows="3"></textarea>
                        <button class="voice-input-btn" onclick="startVoiceInput('customerNotes')" title="ุฅุฏุฎุงู ุตูุชู">๐ค</button>
                    </div>
                </div>

                <div style="margin-top: 20px;">
                    <button class="btn btn-success" onclick="addCustomer()">โ ุฅุถุงูุฉ ุงูุนููู</button>
                    <button class="btn btn-danger" onclick="clearCustomerForm()">๐๏ธ ูุณุญ ุงููููุฐุฌ</button>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ูุงุฆูุฉ ุงูุนููุงุก</h2>
                    <button class="btn btn-info" onclick="exportCustomers()">๐ค ุชุตุฏูุฑ</button>
                </div>

                <div class="search-container">
                    <input type="text" class="search-input" id="customerFilter" placeholder="ุงูุจุญุซ ูู ุงูุนููุงุก...">
                    <button class="voice-btn" onclick="startVoiceSearch('customerFilter')" title="ุงูุจุญุซ ุงูุตูุชู">๐ค</button>
                    <span class="search-icon">๐</span>
                </div>

                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ุงูุงุณู</th>
                                <th>ุงููุงุชู</th>
                                <th>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</th>
                                <th>ุฅุฌูุงูู ุงููุดุชุฑูุงุช</th>
                                <th>ุงูุฑุตูุฏ ุงููุณุชุญู</th>
                                <th>ุขุฎุฑ ุดุฑุงุก</th>
                                <th>ุงูุฅุฌุฑุงุกุงุช</th>
                            </tr>
                        </thead>
                        <tbody id="customersTableBody">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- ุงูุฃูุณุงุท -->
        <div id="installments" class="tab-content">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalInstallmentSales">0</div>
                    <div class="stat-label">ูุจูุนุงุช ุจุงูุฃูุณุงุท</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalInstallmentAmount">0 ุฏ.ุน</div>
                    <div class="stat-label">ุฅุฌูุงูู ูููุฉ ุงูุฃูุณุงุท</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="paidInstallments">0 ุฏ.ุน</div>
                    <div class="stat-label">ุงูุฃูุณุงุท ุงููุฏููุนุฉ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="pendingInstallments">0 ุฏ.ุน</div>
                    <div class="stat-label">ุงูุฃูุณุงุท ุงููุนููุฉ</div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ุฅุฏุงุฑุฉ ุงูุฃูุณุงุท</h2>
                    <div>
                        <button class="btn btn-warning" onclick="showOverdueInstallments()">โ๏ธ ุฃูุณุงุท ูุชุฃุฎุฑุฉ</button>
                        <button class="btn btn-info" onclick="generateInstallmentReport()">๐ ุชูุฑูุฑ ุดุงูู</button>
                    </div>
                </div>

                <div class="search-container">
                    <input type="text" class="search-input" id="installmentFilter" placeholder="ุงูุจุญุซ ูู ุงูุฃูุณุงุท...">
                    <button class="voice-btn" onclick="startVoiceSearch('installmentFilter')" title="ุงูุจุญุซ ุงูุตูุชู">๐ค</button>
                    <span class="search-icon">๐</span>
                </div>

                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ุงูุนููู</th>
                                <th>ุงููุจูุบ ุงูุฃุตูู</th>
                                <th>ุงููุจูุบ ูุน ุงูููุงุฆุฏ</th>
                                <th>ุงููุฏููุน</th>
                                <th>ุงููุชุจูู</th>
                                <th>ุงููุณุท ุงูุดูุฑู</th>
                                <th>ุงูุญุงูุฉ</th>
                                <th>ุงูุฅุฌุฑุงุกุงุช</th>
                            </tr>
                        </thead>
                        <tbody id="installmentsTableBody">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- ุงูุชูุงุฑูุฑ -->
        <div id="reports" class="tab-content">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="todaySales">0 ุฏ.ุน</div>
                    <div class="stat-label">ูุจูุนุงุช ุงูููู</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="monthSales">0 ุฏ.ุน</div>
                    <div class="stat-label">ูุจูุนุงุช ุงูุดูุฑ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalProfit">0 ุฏ.ุน</div>
                    <div class="stat-label">ุฅุฌูุงูู ุงูุฃุฑุจุงุญ</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="avgDailySales">0 ุฏ.ุน</div>
                    <div class="stat-label">ูุชูุณุท ุงููุจูุนุงุช ุงูููููุฉ</div>
                </div>
            </div>

            <div class="form-grid">
                <div class="card">
                    <h3>ุชูุงุฑูุฑ ุงููุจูุนุงุช</h3>
                    <div class="form-group">
                        <label class="form-label">ูู ุชุงุฑูุฎ</label>
                        <input type="date" class="form-input" id="salesReportFrom">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุฅูู ุชุงุฑูุฎ</label>
                        <input type="date" class="form-input" id="salesReportTo">
                    </div>
                    <button class="btn btn-primary" onclick="generateSalesReport()">๐ ุฅูุดุงุก ุงูุชูุฑูุฑ</button>
                    <button class="btn btn-success" onclick="exportSalesReport()">๐ค ุชุตุฏูุฑ</button>
                </div>

                <div class="card">
                    <h3>ุชุตุฏูุฑ ุงูุจูุงูุงุช</h3>
                    <div style="display: grid; gap: 10px;">
                        <button class="btn btn-info" onclick="exportAllProducts()">๐ฆ ุชุตุฏูุฑ ุงูููุชุฌุงุช</button>
                        <button class="btn btn-info" onclick="exportAllSales()">๐ฐ ุชุตุฏูุฑ ุงููุจูุนุงุช</button>
                        <button class="btn btn-info" onclick="exportAllCustomers()">๐ฅ ุชุตุฏูุฑ ุงูุนููุงุก</button>
                        <button class="btn btn-warning" onclick="exportFullBackup()">๐พ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุงููุฉ</button>
                    </div>
                </div>

                <div class="card">
                    <h3>ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช</h3>
                    <div class="form-group">
                        <label class="form-label">ุงุฎุชุฑ ููู JSON</label>
                        <input type="file" class="form-input" id="importFile" accept=".json">
                    </div>
                    <button class="btn btn-warning" onclick="importFromFile()">๐ฅ ุงุณุชูุฑุงุฏ</button>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">ุฃูุถู ุงูููุชุฌุงุช ูุจูุนุงู</h2>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>ุงูููุชุฌ</th>
                                <th>ุนุฏุฏ ุงููุจูุนุงุช</th>
                                <th>ุฅุฌูุงูู ุงููููุฉ</th>
                                <th>ุฅุฌูุงูู ุงููููุฉ</th>
                            </tr>
                        </thead>
                        <tbody id="topProductsTableBody">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- ุงูุฅุนุฏุงุฏุงุช -->
        <div id="settings" class="tab-content">
            <div class="form-grid">
                <div class="card">
                    <h3>ุฅุนุฏุงุฏุงุช ุนุงูุฉ</h3>
                    <div class="form-group">
                        <label class="form-label">ุงุณู ุงููุชุฌุฑ</label>
                        <input type="text" class="form-input" id="storeName" value="ูุชุฌุฑู">
                        <button class="voice-input-btn" onclick="startVoiceInput('storeName')" title="ุฅุฏุฎุงู ุตูุชู">๐ค</button>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุงูุนููุฉ</label>
                        <select class="form-input" id="currency">
                            <option value="IQD">ุฏููุงุฑ ุนุฑุงูู (ุฏ.ุน)</option>
                            <option value="USD">ุฏููุงุฑ ุฃูุฑููู ($)</option>
                            <option value="EUR">ููุฑู (โฌ)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุงูุถุฑูุจุฉ (%)</label>
                        <input type="number" class="form-input" id="taxRate" value="0" step="0.1">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุชูุนูู ุงูุชูุจููุงุช ุงูุตูุชูุฉ</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="audioAlerts" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <div class="card">
                    <h3>ุฅุนุฏุงุฏุงุช ุงูุฃูุณุงุท</h3>
                    <div class="form-group">
                        <label class="form-label">ูุณุจุฉ ุงููุงุฆุฏุฉ ุงูุงูุชุฑุงุถูุฉ (%)</label>
                        <input type="number" class="form-input" id="defaultInterestRate" value="4">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุนุฏุฏ ุงูุฃูุณุงุท ุงูุงูุชุฑุงุถู</label>
                        <input type="number" class="form-input" id="defaultInstallmentCount" value="12">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุงูุญุฏ ุงูุฃุฏูู ููุจูุน ุจุงูุฃูุณุงุท</label>
                        <input type="number" class="form-input" id="minInstallmentAmount" value="100000">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุทุจุงุนุฉ ูุงุชูุฑุฉ ุงูุฏูุน ุชููุงุฆูุงู</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="autoPrintPayment" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <div class="card">
                    <h3>ุฅุนุฏุงุฏุงุช ุงููุฎุฒูู</h3>
                    <div class="form-group">
                        <label class="form-label">ุญุฏ ุงููุฎุฒูู ุงูููุฎูุถ</label>
                        <input type="number" class="form-input" id="lowStockThreshold" value="10">
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุชูุจูู ุงููุฎุฒูู ุงูููุฎูุถ</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="lowStockAlert" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุฅุฏุงุฑุฉ ุงููุฎุฒูู ุงูุชููุงุฆูุฉ</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="autoInventoryManagement">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <div class="card">
                    <h3>ุฅุนุฏุงุฏุงุช ุงูุทุจุงุนุฉ</h3>
                    <div class="form-group">
                        <label class="form-label">ุทุจุงุนุฉ ุงููุงุชูุฑุฉ ุชููุงุฆูุงู</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="autoPrintReceipt">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ุญุฌู ุงููุฑู</label>
                        <select class="form-input" id="paperSize">
                            <option value="80mm">80 ูู (ุทุงุจุนุฉ ุญุฑุงุฑูุฉ)</option>
                            <option value="A4">A4</option>
                            <option value="A5">A5</option>
                        </select>
                    </div>
                </div>

                <div class="card">
                    <h3>ุงููุณุฎ ุงูุงุญุชูุงุทู</h3>
                    <div style="margin-bottom: 15px;">
                        <button class="btn btn-warning" onclick="createBackup()">๐พ ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ</button>
                        <button class="btn btn-info" onclick="scheduleBackup()">โฐ ุฌุฏููุฉ ุงููุณุฎ ุงูุงุญุชูุงุทู</button>
                    </div>

                    <div class="form-group">
                        <label class="form-label">ุงุณุชุนุงุฏุฉ ูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ</label>
                        <input type="file" class="form-input" id="backupFile" accept=".json">
                    </div>

                    <button class="btn btn-success" onclick="restoreBackup()">๐ ุงุณุชุนุงุฏุฉ ุงูุจูุงูุงุช</button>
                    <button class="btn btn-danger" onclick="resetAllData()" style="margin-top: 10px;">๐๏ธ ูุณุญ ุฌููุน ุงูุจูุงูุงุช</button>
                </div>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-success" onclick="saveAllSettings()">โ ุญูุธ ุฌููุน ุงูุฅุนุฏุงุฏุงุช</button>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุงูุฃูุณุงุท -->
    <div id="installmentModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('installmentModal')">&times;</span>
            <h2>๐ ุจูุน ุจุงูุฃูุณุงุท</h2>

            <div class="form-grid">
                <div class="form-group">
                    <label class="form-label">ุงูุนููู</label>
                    <select class="form-input" id="installmentCustomer">
                        <option value="">ุงุฎุชุฑ ุนููู ููุฌูุฏ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">ุฃู ุงุณู ุนููู ุฌุฏูุฏ</label>
                    <input type="text" class="form-input" id="newCustomerName">
                    <button class="voice-input-btn" onclick="startVoiceInput('newCustomerName')" title="ุฅุฏุฎุงู ุตูุชู">๐ค</button>
                </div>
                <div class="form-group">
                    <label class="form-label">ุฑูู ุงููุงุชู</label>
                    <input type="text" class="form-input" id="installmentPhone">
                </div>
                <div class="form-group">
                    <label class="form-label">ุงููุจูุบ ุงูุฃุตูู</label>
                    <input type="number" class="form-input" id="originalAmount" readonly>
                </div>
                <div class="form-group">
                    <label class="form-label">ูุณุจุฉ ุงููุงุฆุฏุฉ (%)</label>
                    <input type="number" class="form-input" id="interestRate" value="4" oninput="calculateInstallment()">
                </div>
                <div class="form-group">
                    <label class="form-label">ุนุฏุฏ ุงูุฃูุณุงุท</label>
                    <input type="number" class="form-input" id="installmentCount" value="12" oninput="calculateInstallment()">
                </div>
                <div class="form-group">
                    <label class="form-label">ุงููุจูุบ ูุน ุงููุงุฆุฏุฉ</label>
                    <input type="number" class="form-input" id="totalWithInterest" readonly>
                </div>
                <div class="form-group">
                    <label class="form-label">ูููุฉ ุงููุณุท ุงูุดูุฑู</label>
                    <input type="number" class="form-input" id="monthlyPayment" readonly>
                </div>
            </div>

            <div id="installmentSchedule"></div>

            <div style="text-align: center; margin-top: 20px;">
                <button class="btn btn-success" onclick="createInstallmentSale()">โ ุฅุชูุงู ุงูุจูุน ุจุงูุฃูุณุงุท</button>
                <button class="btn btn-danger" onclick="closeModal('installmentModal')">โ ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุฏูุน ุงูุฃูุณุงุท -->
    <div id="paymentModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('paymentModal')">&times;</span>
            <h2>๐ฐ ุชุณุฏูุฏ ูุณุท</h2>
            
            <div id="paymentDetails"></div>
            
            <div class="form-group">
                <label class="form-label">ุงููุจูุบ ุงููุฏููุน</label>
                <input type="number" class="form-input" id="paymentAmount" step="0.01">
            </div>
            
            <div class="form-group">
                <label class="form-label">ููุงุญุธุงุช</label>
                <textarea class="form-input" id="paymentNotes" rows="3"></textarea>
                <button class="voice-input-btn" onclick="startVoiceInput('paymentNotes')" title="ุฅุฏุฎุงู ุตูุชู">๐ค</button>
            </div>

            <div style="text-align: center; margin-top: 20px;">
                <button class="btn btn-success" onclick="processPayment()">โ ุชุฃููุฏ ุงูุฏูุน</button>
                <button class="btn btn-danger" onclick="closeModal('paymentModal')">โ ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุทุจุงุนุฉ ุงูุจุงุฑููุฏ -->
    <div id="barcodeModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('barcodeModal')">&times;</span>
            <h2>๐ท๏ธ ุทุจุงุนุฉ ุจุงุฑููุฏ</h2>
            
            <div class="form-group">
                <label class="form-label">ุงุฎุชุฑ ุงูููุชุฌุงุช</label>
                <select class="form-input" id="barcodeProducts" multiple>
                    <!-- ุณูุชู ุชุญููู ุงูููุชุฌุงุช ููุง -->
                </select>
            </div>
            
            <div id="barcodePreview"></div>

            <div style="text-align: center; margin-top: 20px;">
                <button class="btn btn-primary" onclick="generateBarcodePreview()">๐๏ธ ูุนุงููุฉ</button>
                <button class="btn btn-success" onclick="printBarcodes()">๐จ๏ธ ุทุจุงุนุฉ</button>
                <button class="btn btn-danger" onclick="closeModal('barcodeModal')">โ ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- ุฒุฑ ุงูุฅุฌุฑุงุกุงุช ุงูุณุฑูุนุฉ -->
    <div class="floating-action" onclick="toggleQuickActions()" id="quickActionBtn">โก</div>
<!-- ุฃุถู ูุฐุง ุงูููุฏ ูุจู ุฅุบูุงู </body> ูู index.html -->

<!-- ูุงูุฐุฉ ุงุณุชูุฑุงุฏ ุงูููุชุฌุงุช ุจุงููููุฉ -->
<div id="bulkImportModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeModal('bulkImportModal')">&times;</span>
        <h2>๐ฅ ุงุณุชูุฑุงุฏ ููุชุฌุงุช ุจุงููููุฉ</h2>
        
        <div class="import-steps">
            <div class="step-card">
                <h3>๐ ุงูุฎุทูุฉ 1: ุงุฎุชูุงุฑ ุงูููู</h3>
                <div class="form-group">
                    <label class="form-label">ููู JSON ููููุชุฌุงุช</label>
                    <input type="file" class="form-input" id="bulkImportFile" accept=".json">
                    <small style="color: #666; font-size: 12px;">
                        ููู JSON ูุญุชูู ุนูู ูุตูููุฉ ูู ุงูููุชุฌุงุช
                    </small>
                </div>
            </div>

            <div class="step-card">
                <h3>๐ช ุงูุฎุทูุฉ 2: ุงุฎุชูุงุฑ ูุฆุฉ ุงููุชุฌุฑ</h3>
                <div class="store-category-selection">
                    <select class="form-input" id="targetStoreType">
                        <option value="general">๐ช ูุชุฌุฑ ุนุงู</option>
                        <option value="supermarket">๐ ุณูุจุฑ ูุงุฑูุช</option>
                        <option value="electronics">๐ฑ ุฅููุชุฑูููุงุช</option>
                        <option value="clothes">๐ ููุงุจุณ</option>
                        <option value="vegetables">๐ฅฌ ุฎุถุฑูุงุช</option>
                        <option value="beverages">๐ฅค ูุดุฑูุจุงุช</option>
                        <option value="restaurant">๐ฝ๏ธ ูุทุนู</option>
                        <option value="hotel">๐จ ููุฏู</option>
                    </select>
                </div>
            </div>

            <div class="step-card">
                <h3>โ๏ธ ุงูุฎุทูุฉ 3: ุฎูุงุฑุงุช ุงูุงุณุชูุฑุงุฏ</h3>
                <div class="import-options">
                    <label class="checkbox-container">
                        <input type="checkbox" id="replaceExisting" checked>
                        <span class="checkmark"></span>
                        ุงุณุชุจุฏุงู ุงูููุชุฌุงุช ุงูููุฌูุฏุฉ (ููุณ ุงูุงุณู/ุงูุจุงุฑููุฏ)
                    </label>
                    
                    <label class="checkbox-container">
                        <input type="checkbox" id="autoGenerateBarcode">
                        <span class="checkmark"></span>
                        ุฅูุดุงุก ุจุงุฑููุฏ ุชููุงุฆู ููููุชุฌุงุช ุจุฏูู ุจุงุฑููุฏ
                    </label>
                    
                    <label class="checkbox-container">
                        <input type="checkbox" id="validateCategories" checked>
                        <span class="checkmark"></span>
                        ุงูุชุญูู ูู ุงูุชุตูููุงุช ูุชุตุญูุญูุง ุชููุงุฆูุงู
                    </label>
                </div>
            </div>

            <div class="step-card">
                <h3>๐๏ธ ุงูุฎุทูุฉ 4: ูุนุงููุฉ ุงูุจูุงูุงุช</h3>
                <div id="importPreview" class="import-preview">
                    <p style="text-align: center; color: #666;">
                        ุงุฎุชุฑ ููู ูุนุฑุถ ุงููุนุงููุฉ
                    </p>
                </div>
            </div>
        </div>

        <div class="modal-actions">
            <button class="btn btn-primary" onclick="previewImportData()">๐๏ธ ูุนุงููุฉ ุงูุจูุงูุงุช</button>
            <button class="btn btn-success" onclick="processBulkImport()" id="importBtn" disabled>โ ุงุณุชูุฑุงุฏ ุงูููุชุฌุงุช</button>
            <button class="btn btn-info" onclick="downloadSampleFile()">๐ ุชุญููู ููู ุชุฌุฑูุจู</button>
            <button class="btn btn-danger" onclick="closeModal('bulkImportModal')">โ ุฅูุบุงุก</button>
        </div>
    </div>
</div>
    <script>


    </script>
    <script src="app.js"></script>
    <!-- ุฃุถู ูุฐุง ุงูุณุทุฑ ูู HTML ุจุนุฏ ุงูููุฏ ุงูุฑุฆูุณู -->
<script src="import-export.js"></script>
</body>

</html>
